<!doctype html>
<html>
<script src="https://d3js.org/d3.v4.min.js"></script>
<body>
   <p>Population Growth trend for past 6 decades of the top poulated countries of the world</p>
   <svg width=500 height=500>
	</svg>
   <script>
		var crange = ["blue","orange"];
		var svg = d3.select("svg")
		var margin = 100
		var width = svg.attr("width") - margin
		var height = svg.attr("height") - margin;
			
		// Adding the range for x,y and color attributes
		var x = d3.scaleBand().range([0, width])
		var y = d3.scaleLinear().range([height, 0])
		var cs = d3.scaleLinear().range(crange);
		
		var g = svg.append("g")
            .attr("transform", "translate(" + 100 + "," + 50 + ")");

		// Define the line chart for each country
		var linepop = d3.line()
			.x(function(d) { return x(d.Year); })
			.y(function(d) { return y(d.Population); });
					  
					
		// Load population growth trend for top 5 most populated countries
		d3.csv("PopulationDataTrend.csv", function(data) {	
		
		// format the data
		  data.forEach(function(d) {
			  d.Year = +d.Year;
			  d.Population = +d.Population;
		  });

		// Scale the range of the data
		x.domain([1960, 1961, 1962, 1963, 1964, 1965, 1966, 1967, 1968, 1969, 1970, 
				1971,1972,1973,1974,1975,1976,1977,1978,1979,1980, 
				1981,1982,1983,1984,1985,1986,1987,1988,1989,1990,
				1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,
				2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,
				2011,2012,2013,2014,2015,2016,2017,2018]);
		y.domain([0, 1392730000]);
		cs.domain([0,4]);
		
		// pivoting the data for each country
		var dataGroup = d3.nest()
			.key(function(d) {
				return d.Country;
			})
			.entries(data);		
		
		var legendSpace = width/dataGroup.length;
		
		dataGroup.forEach(function(d, i) {	
			svg.append("path")
            .attr('stroke', cs(i))
			.attr('stroke-width', 1)
			.attr('fill', 'none')
			.attr("transform", "translate(" + margin + ", 50)")
            .attr("d", linepop(d.values))
			});
			
		// Adding the bottom x-axis for the bar chart
		g.append("g")
               .attr("transform", "translate(0," + height + ")")
               .call(d3.axisBottom(x))
		
		// Adding the y-axis for the bar chart
		g.append("g")
               .attr("transform", "translate(0, 0)")
               .call(d3.axisLeft(y))
		});	
   </script>
   <p>Description and add a button to go to next scene</p>
   </body>
</html>